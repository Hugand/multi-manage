(this.webpackJsonpmulti_manage=this.webpackJsonpmulti_manage||[]).push([[0],{25:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/auth_manager.3adb47a5.jpg"},35:function(e,t,a){},41:function(e,t,a){e.exports=a(61)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){e.exports=a.p+"static/media/loading.bd9822d3.svg"},59:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(36),l=a(1),s=a.n(l),i=a(26),r=a.n(i),o=(a(46),a(2)),c=a(3),d=a(5),u=a(4),m=a(6),h=(a(47),a(48),a(20)),p="orgToken",f=function(e,t){h.remove(e),h.set(e,t,{expires:3600})},b=function(e){var t=h.get(e);return void 0===t?{}:t},g=function(){h.remove("userToken"),h.remove(p)},v=function(e){return!(void 0===h.get(e))},E=a(38),w=a(9),y=function(e){return{type:"UPDATE_TABLES",newData:e}},C=function(e){return{type:"UPDATE",newData:e}},D=function(){try{localStorage.removeItem("state")}catch(e){}};a(53);var S=function(e){function t(){var e;Object(o.a)(this,t),e=Object(d.a)(this,Object(u.a)(t).call(this));var a=function(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}(window.location.href);return e.state={navbarData:[],tableId:a.tableId},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={orgIdToken:b(p),userTokenId:b("userToken")};fetch("https://us-central1-multi-manage.cloudfunctions.net/getLoggedInUserData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if("deauth"!==e.status)return e;g(),D(),window.location.reload(!1)})).then((function(t){e.props.updateUser(t)})).catch((function(e){if("deauth"!==e.status)throw e;g(),D(),window.location.reload(!1)})),fetch("https://us-central1-multi-manage.cloudfunctions.net/getNavbarTablesData?orgId="+b(p)+"&tokenId="+b("userToken")).then((function(e){return e.json()})).then((function(e){return"deauth"===e.status&&(g(),window.location.reload(!1),D()),e})).then((function(t){e.props.updateTables(t)})).catch((function(e){if("deauth"!==e.status)throw e;g(),D(),window.location.reload(!1)}))}},{key:"render",value:function(){var e=this;return void 0!==this.props.userData&&null!==this.props.userData?s.a.createElement("nav",null,s.a.createElement("ul",{id:"top-bar"},s.a.createElement("li",{onClick:function(){g(),D(),window.location.href="/login"}}," ",s.a.createElement("label",{id:"logout-icon"},s.a.createElement("label",{id:"logout-label"},"Log out")," ",s.a.createElement(E.a,null))," "),s.a.createElement("h1",null,"Multi Manage")),s.a.createElement("ul",{id:"side-bar"},s.a.createElement("li",null,s.a.createElement("h3",{id:"user-navbar"},this.props.userData.name),s.a.createElement("h5",{id:"job-role-navbar"},this.props.userData.jobRole)),this.props.userData.admin?s.a.createElement("li",{className:"manage_tables"===this.state.tableId?"checked-section":""}," ",s.a.createElement("a",{href:"/?tableId=manage_tables"}," Manage tables ")):"",this.props.userData.admin?s.a.createElement("li",{className:"manage_users"===this.state.tableId?"checked-section":""}," ",s.a.createElement("a",{href:"/?tableId=manage_users"}," Users ")):"",s.a.createElement("li",{className:"separator"},"\xa0"),null!==this.props.tablesData&&void 0!==this.props.tablesData?this.props.tablesData.map((function(t){return s.a.createElement("li",{key:t.tableId,className:e.state.tableId===t.tableId?"checked-section":"",onClick:function(){return window.location.href="/?tableId="+t.tableId}},t.tableName)})):"")):""}}]),t}(s.a.Component),N=Object(w.b)((function(e){return{userData:e.userData,tablesData:e.tablesData}}),(function(e){return{updateUser:function(t){return e(C(t))},updateTables:function(t){return e(y(t))}}}))(S),k=(a(54),function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:"modal-bg",onClick:e.toggleModal,style:{display:e.isShown?"grid":"none"}},s.a.createElement("div",{className:"modal",onClick:function(e){return e.stopPropagation()}},e.dataFields)))}),x=a(8),O=a.n(x),I=a(11),j=a(18),T=a(16),P=a(23),F=(a(57),function(e){return!0===e.display?s.a.createElement("div",{id:"loader-bg",style:{borderRadius:e.radius+"px"}},s.a.createElement("div",{id:"loader-container"},s.a.createElement("img",{src:a(58),alt:"loading-anim",width:"100",height:"100"}))):""});function R(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}var M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleSelectFieldValueChange=function(e){return a.setState({selectFieldValue:e.target.value})},a.handleFieldNameChange=function(e){return a.setState({fieldName:e.target.value})},a.handleFieldTypeChange=function(e){return a.setState({fieldType:e.target.value})},a.handleCheckboxChange=function(e){return a.setState((function(e){return{displayTable:!e.displayTable}}))},a.addSelectValue=function(e){return""!==a.state.selectFieldValue?a.setState((function(e){return{selectData:[].concat(Object(j.a)(e.selectData),[e.selectFieldValue]),selectFieldValue:""}})):null},a.removeSelectDataValue=function(e){var t=a.state.selectData;t.splice(e,1),a.setState({selectData:t})},a.submitUpdate=function(e){console.log(a.state.modalFieldData),!1===a.state.dataSubmited&&(a.setState({dataSubmited:!0,processingRequest:!0}),fetch("https://us-central1-multi-manage.cloudfunctions.net/addTableField",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:b(p),tableId:R(window.location.href).tableId,tokenId:b("userToken"),fieldName:a.state.fieldName,fieldType:a.state.fieldType,selectData:a.state.selectData,displayTable:a.state.displayTable})}).then((function(e){console.log(e),"deauth"===e.json().status&&g(),window.location.reload(!1)})).catch((function(e){throw e})))},a.state={fieldName:"",fieldType:"text",selectData:[],displayTable:!0,selectFieldValue:"",processingRequest:!1,dataSubmited:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(F,{radius:"0",display:this.state.processingRequest}),s.a.createElement("h1",null,"Create field"),s.a.createElement("form",{onSubmit:function(){var e=Object(I.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},s.a.createElement("div",null,s.a.createElement("input",{type:"text",name:"fieldName",value:this.state.fieldName,onChange:this.handleFieldNameChange,placeholder:"Field name",className:"txt-field"}),s.a.createElement("h3",null,"Field type"),s.a.createElement("div",{id:"field-type-radio-group"},s.a.createElement("input",{type:"radio",checked:"text"===this.state.fieldType,onChange:this.handleFieldTypeChange,value:"text",id:"text",name:"field-type"}),s.a.createElement("label",{for:"text"},"Text"),s.a.createElement("input",{type:"radio",checked:"date"===this.state.fieldType,onChange:this.handleFieldTypeChange,value:"date",id:"date",name:"field-type"}),s.a.createElement("label",{for:"date"},"Date"),s.a.createElement("input",{type:"radio",checked:"time"===this.state.fieldType,onChange:this.handleFieldTypeChange,value:"time",id:"time",name:"field-type"}),s.a.createElement("label",{for:"time"},"Time"),s.a.createElement("input",{type:"radio",checked:"number"===this.state.fieldType,onChange:this.handleFieldTypeChange,value:"number",id:"number",name:"field-type"}),s.a.createElement("label",{for:"number"},"Number"),s.a.createElement("input",{type:"radio",checked:"select"===this.state.fieldType,onChange:this.handleFieldTypeChange,value:"select",id:"select",name:"field-type"}),s.a.createElement("label",{for:"select"},"Select"),s.a.createElement("input",{type:"radio",checked:"checkbox"===this.state.fieldType,onChange:this.handleFieldTypeChange,value:"checkbox",id:"checkbox",name:"field-type"}),s.a.createElement("label",{for:"checkbox"},"Checkbox"),s.a.createElement("input",{type:"radio",checked:"tel"===this.state.fieldType,onChange:this.handleFieldTypeChange,value:"tel",id:"tel",name:"field-type"}),s.a.createElement("label",{for:"tel"},"Phone")),"select"===this.state.fieldType?s.a.createElement("div",null,s.a.createElement("h3",null,"Select Field Values"),s.a.createElement("div",{id:"select-values"},s.a.createElement("div",{id:"select-values-container"},this.state.selectData.map((function(t,a){return s.a.createElement("div",{className:"chip"},t,s.a.createElement("button",{className:"remove-btn",onClick:function(){e.removeSelectDataValue(a)}},s.a.createElement(T.b,null)))}))),s.a.createElement("div",{id:"select-values-inputs"},s.a.createElement("input",{type:"text",className:"txt-field",placeholder:"Select value",value:this.state.selectFieldValue,onChange:this.handleSelectFieldValueChange}),s.a.createElement("button",{className:"btn",onClick:this.addSelectValue,disabled:""===this.state.selectFieldValue},"Add value")))):"",s.a.createElement("div",{className:"table-display"},s.a.createElement(P.a,{size:"small",onChange:this.handleCheckboxChange,color:"#11152f",isChecked:this.state.displayTable}),s.a.createElement("label",null,"Display in dashboard table"))),s.a.createElement("input",{type:"submit",className:"btn",disabled:this.state.dataSubmited,onClick:this.submitUpdate,value:"Submit changes"})))}}]),t}(s.a.Component),V=function(e){for(var t=0;t<e.length;t++){for(var a=!1,n=0;n<"+0123456789".length;n++)e.charAt(t)==="+0123456789".charAt(n)&&(a=!0);if(!1===a)return!1}return!0},U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e,t){var n=a.state.fieldController;switch(t){case"tel":!0===V(e.target.value)&&(n[e.target.name]=e.target.value);break;case"email":!1===e.target.value.includes(" ")&&(n[e.target.name]=e.target.value);break;default:n[e.target.name]=e.target.value}a.setState({fieldController:n})},a.state={dataSubmited:!1,tableData:null,tableName:"",fieldController:null,processingData:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){null===t.tableData&&this.props.tableData!==t.tableData&&this.setState({tableData:this.props.tableData}),null===t.fieldController&&this.props.fieldController!==t.fieldController&&this.setState({fieldController:this.props.fieldController})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(F,{radius:"0",display:this.state.processingData}),s.a.createElement("h1",null,"Add new item"),s.a.createElement("form",{onSubmit:function(){var t=Object(I.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.setState({dataSubmited:!0,processingData:!0}),!1===e.state.dataSubmited&&fetch("https://us-central1-multi-manage.cloudfunctions.net/addTableRow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:b(p),tokenId:b("userToken"),tableId:e.state.tableData._id,tableData:JSON.stringify(e.state.fieldController)})}).then((function(e){return"deauth"===e.json().status&&(g(),D()),window.location.reload(!1),e})).catch((function(e){if("deauth"!==e.status)throw e;g()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},null!==this.state.tableData?this.state.tableData.fields.map((function(t){return"select"===t.type?s.a.createElement("select",{key:t.name,className:"txt-field",onChange:e.handleInputChange,name:t.name},t.select_data.map((function(e,t){return s.a.createElement("option",{key:e+"-"+t,value:e},e)}))):s.a.createElement("input",{key:t.name,type:t.type,value:e.state.fieldController[t.name],onChange:function(a){return e.handleInputChange(a,t.type)},name:t.name,className:"txt-field",placeholder:t.name})})):"",s.a.createElement("input",{type:"submit",className:"btn",disabled:this.state.dataSubmited,value:"Add new item"})))}}]),t}(s.a.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).getTableRows=function(e){return fetch("https://us-central1-multi-manage.cloudfunctions.net/getOrgTableData?page="+e+"&orgId="+b(p)+"&tableId="+a.props.tableId+"&tokenId="+b("userToken"))},a.handleRowClick=function(e){window.location.href="/viewrow?tableId="+a.state.tableData._id+"&rowIndex="+e},a.toggleModal=function(){var e=a.state.showModal;a.setState({showModal:!e})},a.nextPage=function(){var e=a.state,t=e.tablePage,n=e.tableData;t<a.state.nPages&&(void 0===n.data[t+1+""]?a.getTableRows(t+1).then((function(e){return e.json()})).then((function(e){return"deauth"===e.status&&(g(),D(),window.location.reload(!1)),e})).then((function(e){n.data[t+1+""]=e.tableData.data,a.setState({tableData:n,nPages:e.nPages,tablePage:t+1})})).catch((function(e){"deauth"===e.status&&(g(),D(),window.location.reload(!1))})):a.setState((function(e){return{tablePage:e.tablePage+1}})))},a.prevPage=function(){var e=a.state,t=e.tablePage,n=e.tableData;t>1&&(void 0===n.data[t-1+""]?a.getTableRows(t-1).then((function(e){return e.json()})).then((function(e){return"deauth"===e.status&&(g(),D(),window.location.reload(!1)),e})).then((function(e){n.data[t-1+""]=e.tableData.data,a.setState({tableData:n,nPages:e.nPages,tablePage:t-1})})).catch((function(e){"deauth"===e.status&&(g(),D(),window.location.reload(!1))})):a.setState((function(e){return{tablePage:e.tablePage-1}})))},a.state={tableData:null,tableName:"",showModal:!1,dataFields:"",fieldController:{},tablePage:1,nPages:1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getTableRows(this.state.tablePage).then((function(e){return e.json()})).then((function(e){return"deauth"===e.status&&(g(),D(),window.location.reload(!1)),e})).then((function(t){var a={};console.log(t),t.tableData.fields.forEach((function(e){"select"===e.type?a[e.name]=e.select_data[0]:a[e.name]=""})),t.tableData.data={1:t.tableData.data},e.setState({tableData:t.tableData,tableName:t.tableData.name,fieldController:a,nPages:t.nPages})})).catch((function(e){"deauth"===e.status&&(g(),D(),window.location.reload(!1))}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"content"},s.a.createElement(k,{dataFields:s.a.createElement(U,{tableData:this.state.tableData,fieldController:this.state.fieldController}),isShown:this.state.showModal,toggleModal:this.toggleModal}),s.a.createElement("h1",null,this.state.tableName),s.a.createElement("div",{id:"table-container"},s.a.createElement("div",{className:"actions"},s.a.createElement("button",{className:"btn",onClick:this.toggleModal},"Add item"),s.a.createElement("input",{type:"text",className:"txt-field",placeholder:"search"})),s.a.createElement("div",{id:"table"},null!==this.state.tableData?s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,this.state.tableData.fields.map((function(e){return e.display_table?s.a.createElement("th",{key:e.name},e.name):""})))),s.a.createElement("tbody",null,this.state.tableData.data[this.state.tablePage+""].map((function(t,a){return s.a.createElement("tr",{key:a,onClick:function(){return e.handleRowClick(a)}},e.state.tableData.fields.map((function(e){return e.display_table?s.a.createElement("td",{key:t[e.name]+"-"+a},t[e.name]):""})))})))):""),1!==this.state.nPages?s.a.createElement("div",{id:"pagination-container"},s.a.createElement("button",{className:"btn",onClick:this.prevPage}," < "),s.a.createElement("label",null,this.state.tablePage," of ",this.state.nPages),s.a.createElement("button",{className:"btn",onClick:this.nextPage},">")):""))}}]),t}(s.a.Component),q=a(14),A=function(){function e(){Object(o.a)(this,e),this.name="",this.fields=""}return Object(c.a)(e,[{key:"setName",value:function(e){this.name=e}},{key:"setFields",value:function(e){this.fields=e}}]),e}(),J=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).appendNewField=function(){if(""!==e.state.fieldName){var t={fieldName:e.state.fieldName,fieldType:e.state.fieldType,displayInTable:e.state.cbChecked,selectValues:e.state.selectValues};e.setState((function(e){return{newFieldsData:[t].concat(Object(j.a)(e.newFieldsData)),fieldName:"",fieldType:"text",cbChecked:!0,selectValues:[]}}))}},e.removeItem=function(t){var a=e.state.newFieldsData;a.splice(t,1),e.setState({newFieldsData:a})},e.appendSelectValue=function(){""!==e.state.selectFieldValue&&e.setState((function(e){return{selectValues:[].concat(Object(j.a)(e.selectValues),[e.selectFieldValue]),selectFieldValue:""}}))},e.removeSelectValue=function(t){var a=e.state.selectValues;a.splice(t,1),e.setState({selectValues:a})},e.handleOnEnterPressed=function(t){"Enter"!==t.key||""===e.state.fieldName||"select"===e.state.fieldType&&0===e.state.selectValues.length||e.appendNewField(e.state.item)},e.handleFieldNameInputChange=function(t){e.setState({fieldName:t.target.value})},e.handleRadioButtonsChange=function(t){e.setState({fieldType:t.target.value})},e.handleSelectValueKeyDown=function(t){console.log("appending"),"Enter"===t.key&&""!==e.state.selectFieldValue&&e.appendSelectValue()},e.handleSelectFieldValueInputChange=function(t){e.setState({selectFieldValue:t.target.value})},e.handleTableNameInputChange=function(t){e.setState({tableName:t.target.value})},e.handleTableDispCheckbox=function(){e.setState((function(e){return{cbChecked:!e.cbChecked}}))},e.submitNewTable=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=new A).setName(e.state.tableName),a.setFields(e.state.newFieldsData.reverse()),!1===e.state.dataSubmited&&(e.setState({processingRequest:!0,dataSubmited:!0}),fetch("https://us-central1-multi-manage.cloudfunctions.net/createTable",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:b(p),tokenId:b("userToken"),tableData:a})}).then((function(e){return"deauth"===e.json().status&&(g(),window.location.reload(!1)),e})).then((function(e){window.location.reload(!1)})).catch((function(e){if("deauth"!==e.status)throw e;g(),D(),window.location.reload(!1)})));case 4:case"end":return t.stop()}}),t)}))),e.state={tableName:"",fieldName:"",fieldType:"text",newFieldsData:[],selectValues:[],selectFieldValue:"",cbChecked:!0,processingRequest:!1,dataSubmited:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(F,{radius:"0",display:this.state.processingRequest}),s.a.createElement("h1",null,"Create new table"),s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"txt-field",onChange:this.handleTableNameInputChange,value:this.state.tableName,placeholder:"Table name"}),s.a.createElement("div",{id:"add-fields-container"},s.a.createElement("ul",{id:"fields-list"},this.state.newFieldsData.map((function(t,a){return s.a.createElement("li",{key:t.fieldName},s.a.createElement("label",null,t.fieldName)," ",s.a.createElement("label",null,"tel"===t.fieldType?"phone":t.fieldType," ","select"===t.fieldType?"["+t.selectValues.join(", ")+"]":""," \xa0 ",t.displayInTable?"Display in table":""),s.a.createElement("button",{className:"remove-btn",onClick:function(){e.removeItem(a)}},s.a.createElement(T.b,null)))}))),s.a.createElement("div",{id:"inputs-container"},s.a.createElement("button",{className:"btn",onClick:this.appendNewField,disabled:""===this.state.fieldName||"select"===this.state.fieldType&&0===this.state.selectValues.length},s.a.createElement(q.a,null)),s.a.createElement("input",{type:"text",className:"txt-field",onChange:this.handleFieldNameInputChange,onKeyDown:this.handleOnEnterPressed,value:this.state.fieldName,placeholder:"Field name"}),s.a.createElement("div",{id:"properties"},s.a.createElement("div",{id:"field-type-radio-group"},s.a.createElement("input",{type:"radio",onChange:this.handleRadioButtonsChange,onKeyDown:this.handleOnEnterPressed,checked:"text"===this.state.fieldType,value:"text",id:"text",name:"field-type"}),s.a.createElement("label",{htmlFor:"text"},"Text"),s.a.createElement("input",{type:"radio",onChange:this.handleRadioButtonsChange,onKeyDown:this.handleOnEnterPressed,checked:"date"===this.state.fieldType,value:"date",id:"date",name:"field-type"}),s.a.createElement("label",{htmlFor:"date"},"Date"),s.a.createElement("input",{type:"radio",onChange:this.handleRadioButtonsChange,onKeyDown:this.handleOnEnterPressed,checked:"time"===this.state.fieldType,value:"time",id:"time",name:"field-type"}),s.a.createElement("label",{htmlFor:"time"},"Time"),s.a.createElement("input",{type:"radio",onChange:this.handleRadioButtonsChange,onKeyDown:this.handleOnEnterPressed,checked:"number"===this.state.fieldType,value:"number",id:"number",name:"field-type"}),s.a.createElement("label",{htmlFor:"number"},"Number"),s.a.createElement("input",{type:"radio",onChange:this.handleRadioButtonsChange,onKeyDown:this.handleOnEnterPressed,checked:"select"===this.state.fieldType,value:"select",id:"select",name:"field-type"}),s.a.createElement("label",{htmlFor:"select"},"Select"),s.a.createElement("input",{type:"radio",onChange:this.handleRadioButtonsChange,onKeyDown:this.handleOnEnterPressed,checked:"checkbox"===this.state.fieldType,value:"checkbox",id:"checkbox",name:"field-type"}),s.a.createElement("label",{htmlFor:"checkbox"},"Checkbox"),s.a.createElement("input",{type:"radio",onChange:this.handleRadioButtonsChange,onKeyDown:this.handleOnEnterPressed,checked:"tel"===this.state.fieldType,value:"tel",id:"tel",name:"field-type"}),s.a.createElement("label",{htmlFor:"tel"},"Phone")),s.a.createElement("div",{id:"table-display"},s.a.createElement(P.a,{size:"small",onChange:this.handleTableDispCheckbox,color:"#11152f",isChecked:this.state.cbChecked}),s.a.createElement("label",null,"Display in dashboard table"))),"select"===this.state.fieldType?s.a.createElement("div",{id:"select-values"},s.a.createElement("div",{id:"select-values-container"},this.state.selectValues.map((function(t,a){return s.a.createElement("div",{className:"chip"},t,s.a.createElement("button",{className:"remove-btn",onClick:function(){e.removeSelectValue(a)}},s.a.createElement(T.b,null)))}))),s.a.createElement("div",{id:"select-values-inputs"},s.a.createElement("input",{type:"text",className:"txt-field",placeholder:"Select value",value:this.state.selectFieldValue,onKeyDown:this.handleSelectValueKeyDown,onChange:this.handleSelectFieldValueInputChange}),s.a.createElement("button",{className:"btn",onClick:this.appendSelectValue},"Add value"))):"")),s.a.createElement("input",{type:"button",onClick:this.submitNewTable,className:"btn",disabled:""===this.state.tableName||0===this.state.newFieldsData.length||!0===this.state.dataSubmited,value:"Add new item"})))}}]),t}(s.a.Component),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleRowClick=function(e){window.location.href="/viewrow?type=manage_tables&tableId="+e},a.toggleModal=function(){var e=a.state.showModal;a.setState({showModal:!e})},a.state={dataFields:s.a.createElement(J,null)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"content"},s.a.createElement(k,{dataFields:this.state.dataFields,isShown:this.state.showModal,toggleModal:this.toggleModal}),s.a.createElement("h1",null,"Tables Manager"),s.a.createElement("div",{id:"table-container"},s.a.createElement("div",{className:"actions"},s.a.createElement("button",{className:"btn",onClick:this.toggleModal},"Add item"),s.a.createElement("input",{type:"text",className:"txt-field",placeholder:"search"})),s.a.createElement("div",{id:"table"},void 0!==this.props.tablesData&&null!==this.props.tablesData?s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Table name"))),s.a.createElement("tbody",null,this.props.tablesData.map((function(t,a){return s.a.createElement("tr",{key:t.tableName,onClick:function(){return e.handleRowClick(t.tableId,t.tableName)}},s.a.createElement("td",null,t.tableName))})))):"")))}}]),t}(s.a.Component),B=Object(w.b)((function(e){return{userData:e.userData,tablesData:e.tablesData}}),(function(e){return{}}))(H),z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).submitUserCreationReq=function(){var e=Object(I.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.state.password===a.state.confPassword&&!1===a.state.dataSubmited&&(a.setState({dataSubmited:!0,processingRequest:!0}),fetch("https://us-central1-multi-manage.cloudfunctions.net/registerUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:b(p),tokenId:b("userToken"),fullName:a.state.name,username:a.state.username,phone:a.state.phone,email:a.state.email,password:a.state.password,isAdmin:a.state.admin,jobRole:a.state.jobRole})}).then((function(e){console.log(e),"deauth"===e.json().status&&(g(),D()),window.location.reload(!1)})).catch((function(e){if("deauth"!==e.status)throw e;g(),D(),window.location.reload(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){var t=a.state;switch(e.target.name){case"email":case"username":!1===e.target.value.includes(" ")&&(t[e.target.name]=e.target.value);break;case"phone":!0===V(e.target.value)&&(t[e.target.name]=e.target.value);break;case"admin":t.admin="true"===t.admin;break;default:t[e.target.name]=e.target.value}a.setState(t)},a.state={name:"",username:"",phone:"",email:"",password:"",confPassword:"",admin:!1,jobRole:"",processingRequest:!1,dataSubmited:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(F,{radius:"0",display:this.state.processingRequest}),s.a.createElement("h1",null,"Create new user"),s.a.createElement("form",{onSubmit:this.submitUserCreationReq},s.a.createElement("input",{type:"text",onChange:this.handleInputChange,value:this.state.name,className:"txt-field",name:"name",placeholder:"Name"}),s.a.createElement("input",{type:"text",onChange:this.handleInputChange,value:this.state.username,className:"txt-field",name:"username",placeholder:"Username"}),s.a.createElement("input",{type:"email",onChange:this.handleInputChange,value:this.state.email,className:"txt-field",name:"email",placeholder:"Email"}),s.a.createElement("input",{type:"text",onChange:this.handleInputChange,value:this.state.phone,className:"txt-field",name:"phone",placeholder:"Phone"}),s.a.createElement("input",{type:"text",onChange:this.handleInputChange,value:this.state.jobRole,className:"txt-field",name:"jobRole",placeholder:"Job Role"}),s.a.createElement("input",{type:"password",onChange:this.handleInputChange,value:this.state.password,className:"txt-field",name:"password",placeholder:"Password"}),s.a.createElement("input",{type:"password",onChange:this.handleInputChange,value:this.state.confPassword,className:"txt-field",name:"confPassword",placeholder:"Confirm Password"}),s.a.createElement("label",{style:{float:"left"}},"Admin: "),s.a.createElement("select",{onChange:this.handleInputChange,value:this.state.admin,className:"txt-field",name:"admin"},s.a.createElement("option",{value:!0},"Yes"),s.a.createElement("option",{value:!1},"No")),s.a.createElement("input",{type:"submit",className:"btn",disabled:this.state.dataSubmited,value:"Add new item"})))}}]),t}(s.a.Component),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).getTableRows=function(e){return fetch("https://us-central1-multi-manage.cloudfunctions.net/getOrgUsers?page="+e+"&orgId="+b(p)+"&tokenId="+b("userToken"))},a.handleRowClick=function(e){window.location.href="/viewrow?type=manage_users&userId="+e},a.toggleModal=function(){var e=a.state.showModal;a.setState({showModal:!e})},a.nextPage=function(){var e=a.state,t=e.tablePage,n=e.usersData;t<a.state.nPages&&(void 0===n[t+1+""]?a.getTableRows(t+1).then((function(e){switch(e.status){case 200:return e.json();case 401:window.location="/";break;default:window.location="/"}})).then((function(e){"deauth"===e.status?(g(),D(),window.location.reload(!1)):(n[t+1+""]=e.usersData,a.setState({usersData:n,nPages:e.nPages,tablePage:t+1}))})).catch((function(e){if("deauth"!==e.status)throw e;g(),D(),window.location.reload(!1)})):a.setState((function(e){return{tablePage:e.tablePage+1}})))},a.prevPage=function(){var e=a.state,t=e.tablePage,n=e.usersData;t>1&&(void 0===n[t-1+""]?a.getTableRows(t-1).then((function(e){switch(e.status){case 200:return e.json();case 401:window.location="/";break;default:window.location="/"}})).then((function(e){"deauth"===e.status?(g(),D(),window.location.reload(!1)):(n[t-1+""]=e.usersData,a.setState({usersData:n,nPages:e.nPages,tablePage:t-1}))})).catch((function(e){if("deauth"!==e.status)throw e;g(),D(),window.location.reload(!1)})):a.setState((function(e){return{tablePage:e.tablePage-1}})))},a.state={usersData:null,showModal:!1,tablePage:1,nPages:1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getTableRows(this.state.tablePage).then((function(e){switch(e.status){case 200:return e.json();case 401:window.location="/";break;default:window.location="/"}})).then((function(t){"deauth"===t.status?(g(),window.location.reload(!1),D()):e.setState({usersData:{1:t.usersData},nPages:t.nPages})})).catch((function(e){if("deauth"!==e.status)throw e;g(),D()}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"content"},s.a.createElement(k,{dataFields:s.a.createElement(z,null),isShown:this.state.showModal,toggleModal:this.toggleModal}),s.a.createElement("h1",null,"Users Manager"),s.a.createElement("div",{id:"table-container"},s.a.createElement("div",{className:"actions"},s.a.createElement("button",{className:"btn",onClick:this.toggleModal},"Add item"),s.a.createElement("input",{type:"text",className:"txt-field",placeholder:"search"})),null!==this.state.usersData&&void 0!==this.state.usersData?s.a.createElement("div",{id:"table"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"User"),s.a.createElement("th",null,"Username"),s.a.createElement("th",null,"Job Role"),s.a.createElement("th",null,"Admin"))),s.a.createElement("tbody",null,this.state.usersData[this.state.tablePage+""].map((function(t){return s.a.createElement("tr",{key:t._id,onClick:function(){return e.handleRowClick(t._id)}},s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.username),s.a.createElement("td",null,t.jobRole),s.a.createElement("td",null,!0===t.admin?"Yes":"No"))}))))):"",1!==this.state.nPages?s.a.createElement("div",{id:"pagination-container"},s.a.createElement("button",{className:"btn",onClick:this.prevPage}," < "),s.a.createElement("label",null,this.state.tablePage," of ",this.state.nPages),s.a.createElement("button",{className:"btn",onClick:this.nextPage},">")):""))}}]),t}(s.a.Component),K=Object(w.b)((function(e){return{userData:e.userData,tablesData:e.tablesData}}),(function(e){return{}}))(L);var Y=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(d.a)(this,Object(u.a)(t).call(this,e));var n=function(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}(window.location.href);return a.state={tableId:n.tableId},"manage_tables"!==a.state.tableId&&"manage_users"!==a.state.tableId||!1!==a.props.userData.admin||(window.location="/"),void 0===a.state.tableId&&(void 0===a.props.tablesData[0]?fetch("https://us-central1-multi-manage.cloudfunctions.net/getNavbarTablesData?orgId="+b(p)+"&tokenId="+b("userToken")).then((function(e){return e.json()})).then((function(e){return"deauth"===e.status&&(g(),D(),window.location.reload(!1)),e})).then((function(e){a.props.updateTables(e),window.location.reload(!1)})).catch((function(e){if("deauth"!==e.status)throw e;g(),D(),window.location.reload(!1)})):a.props.tablesData.length>0&&(window.location="/?tableId="+a.props.tablesData[0].tableId)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(N,null),s.a.createElement("div",{id:"dashboard-content"},"manage_tables"===this.state.tableId?s.a.createElement(B,null):"manage_users"===this.state.tableId?s.a.createElement(K,null):s.a.createElement(_,{tableId:this.state.tableId})))}}]),t}(s.a.Component),W=Object(w.b)((function(e){return{userData:e.userData,tablesData:e.tablesData}}),(function(e){return{updateUser:function(t){return e(C(t))},updateTables:function(t){return e(y(t))}}}))(Y),G=(a(35),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).orgIdHandlerOnChange=function(t){e.setState({orgId:t.target.value})},e.orgPasswordHandlerOnChange=function(t){e.setState({orgPassword:t.target.value})},e.userEmailHandlerOnChange=function(t){e.setState({userEmail:t.target.value})},e.userPasswordHandlerOnChange=function(t){e.setState({userPassword:t.target.value})},e.authTypeHandler=function(){window.location="/register"},e.goToPrevLoginStep=function(){return e.setState({loginState:"org_login",cred:""})},e.state={orgId:"",orgPassword:"",cred:"",userEmail:"",userPassword:"",loginState:"org_login",isProcessing:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return v("userToken")&&v(p)?window.location="/":s.a.createElement("div",{className:"auth-bg"},s.a.createElement(F,{radius:"0",display:this.state.isProcessing}),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"auth-container"},"org_login"===this.state.loginState?s.a.createElement("div",null,s.a.createElement("h1",null,"Organization Log in"),s.a.createElement("form",{onSubmit:function(){var t=Object(I.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.setState({isProcessing:!0}),n={name_id:e.state.orgId,password:e.state.orgPassword},fetch("https://us-central1-multi-manage.cloudfunctions.net/orgLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){console.log(t),"success"===t.status&&e.setState({cred:t.cred,loginState:"user_login"}),e.setState({isProcessing:!1})})).catch((function(t){return e.setState({isProcessing:!1})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},s.a.createElement("input",{type:"text",className:"txt-field",value:this.state.orgId,onChange:this.orgIdHandlerOnChange,placeholder:"Organization id"}),s.a.createElement("input",{type:"password",className:"txt-field",value:this.state.orgPassword,onChange:this.orgPasswordHandlerOnChange,placeholder:"Password"}),s.a.createElement("input",{type:"submit",className:"btn auth-submit",value:"Log in organization"})),s.a.createElement("button",{className:"button-label",onClick:this.authTypeHandler},"New to the app? Register your organization now!")):"user_login"===this.state.loginState?s.a.createElement("div",null,s.a.createElement("h1",null,"User Log in"),s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setState({isProcessing:!0});var a={orgId:e.state.cred,userEmail:e.state.userEmail,userPassword:e.state.userPassword};fetch("https://us-central1-multi-manage.cloudfunctions.net/userLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){console.log(t),"success"===t.status?(f("userToken",t.userIdToken),f(p,a.orgId),window.location="/"):e.setState({isProcessing:!1})})).catch((function(t){return e.setState({isProcessing:!1})}))}},s.a.createElement("input",{type:"email",className:"txt-field",value:this.state.userEmail,onChange:this.userEmailHandlerOnChange,placeholder:"User email",required:!0}),s.a.createElement("input",{type:"password",className:"txt-field",value:this.state.userPassword,onChange:this.userPasswordHandlerOnChange,placeholder:"User Password",required:!0}),s.a.createElement("input",{type:"submit",className:"btn auth-submit",value:"Log in organization"}),s.a.createElement("button",{className:"button-label",onClick:function(e){e.preventDefault(),window.location.href="/register"}},"New to the app? Register your organization now!"),s.a.createElement("button",{className:"secondary-btn voltar-btn",onClick:this.goToPrevLoginStep},"Voltar"))):""),s.a.createElement("div",{className:"auth-separator"}),s.a.createElement("div",{className:"auth-image"},s.a.createElement("img",{src:a(29),alt:"auth-manager"}))))}}]),t}(s.a.Component)),Q=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).validateFields=function(t){var a,n=t.orgId,l=t.orgPassword,s=t.orgConfPassword,i=t.userPassword,r=t.userConfPassword,o=t.username,c=e.state.nameIdUnique;switch(e.state.registerStep){case"org":a=l===s&&l.length>=6;var d=!0===c&&!n.trim().includes(" ");a&&d?e.setState({dataSubmited:!1}):e.setState({dataSubmited:!0});break;case"user_register":a=i===r&&i.length>=6;var u=!o.trim().includes(" ");a&&u?e.setState({dataSubmited:!1}):e.setState({dataSubmited:!0});break;default:e.setState({registerStep:"org"})}},e.formHandler=function(t){var a=e.state.formData;switch(t.target.name){case"orgId":case"orgEmail":case"username":case"userEmail":!1===t.target.value.includes(" ")&&(a[t.target.name]=t.target.value);break;case"userPhone":!0===V(t.target.value)&&(a[t.target.name]=t.target.value);break;default:a[t.target.name]=t.target.value}a.orgId=a.orgId.trim(),a.username=a.username.trim(),e.setState({formData:a}),"orgId"===t.target.name&&e.checkForNameIdUniqueness(a.orgId),e.validateFields(a,t.target.name)},e.checkForNameIdUniqueness=function(t){return fetch("https://us-central1-multi-manage.cloudfunctions.net/checkOrgNameIdUnique?name_id="+t).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({nameIdUnique:t.unique})}))},e.submitUserRegister=function(t){t.preventDefault();var a=e.state.formData,n={name_id:a.orgId,orgEmail:a.orgEmail,name:a.orgName,orgPassword:a.orgPassword,username:a.username,fullName:a.userFullName,email:a.userEmail,password:a.userPassword,phone:a.userPhone,jobRole:a.jobRole},l=a.orgPassword===a.orgConfPassword&&a.orgPassword.length>=6,s=!a.orgId.trim().includes(" "),i=!a.username.trim().includes(" "),r=a.userPassword===a.userConfPassword&&a.userPassword.length>=6;console.log(n),l&&s&&i&&r&&!1===e.state.dataSubmited&&(e.setState({isProcessing:!0,dataSubmited:!0}),fetch("https://us-central1-multi-manage.cloudfunctions.net/registerOrg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){200===t.status&&(window.location="/login"),e.setState({isProcessing:!1,dataSubmited:!1})})).catch((function(t){return e.setState({isProcessing:!1,dataSubmited:!1})})))},e.state={passwordEqual:!1,dataSubmited:!0,nameIdUnique:!0,formData:{orgId:"",orgName:"",orgPassword:"",orgConfPassword:"",orgEmail:"",userFullName:"",username:"",userPhone:"",userEmail:"",userPassword:"",userConfPassword:"",jobRole:""},registerStep:"org",isProcessing:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;if(v("userToken")&&v(p))window.location="/";else switch(this.state.registerStep){case"org":return s.a.createElement("div",{className:"auth-bg"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"auth-image"},s.a.createElement("img",{src:a(29),alt:"auth-manager"})),s.a.createElement("div",{className:"auth-separator"}),s.a.createElement("div",{className:"auth-container"},s.a.createElement("h1",null,"Register Organization"),s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setState({registerStep:"user_register"})}},s.a.createElement("input",{type:"text",className:"txt-field",name:"orgId",value:this.state.formData.orgId,placeholder:"Organization id",onChange:this.formHandler,required:!0}),!1===this.state.nameIdUnique?s.a.createElement("label",{className:"alert-label"},"Organization name id already in use"):"",s.a.createElement("input",{type:"text",className:"txt-field",name:"orgName",value:this.state.formData.orgName,placeholder:"Organization name",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"email",className:"txt-field",name:"orgEmail",value:this.state.formData.orgEmail,placeholder:"Organization email",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"password",className:"txt-field",name:"orgPassword",value:this.state.formData.orgPassword,placeholder:"Password",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"password",className:"txt-field",name:"orgConfPassword",value:this.state.formData.orgConfPassword,placeholder:"Confirm Password",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"submit",className:"btn auth-submit",disabled:this.state.dataSubmited,value:"Register organization"}),s.a.createElement("button",{className:"button-label",onClick:function(){window.location="/login"}},"New to the app? Register your organization now!")))));case"user_register":return s.a.createElement("div",{className:"auth-bg"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"auth-image"},s.a.createElement("img",{src:a(29),alt:"auth-manager"})),s.a.createElement("div",{className:"auth-separator"}),s.a.createElement("div",{class:"auth-container"},s.a.createElement(F,{radius:"20",display:this.state.isProcessing}),s.a.createElement("h1",null,"Create admin user"),s.a.createElement("form",{onSubmit:this.submitUserRegister},s.a.createElement("input",{type:"text",className:"txt-field",name:"userFullName",value:this.state.formData.userFullName,placeholder:"Full Name",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"text",className:"txt-field",name:"username",value:this.state.formData.username,placeholder:"Username",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"email",className:"txt-field",name:"userEmail",value:this.state.formData.userEmail,placeholder:"Email",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"tel",className:"txt-field",name:"userPhone",value:this.state.formData.userPhone,placeholder:"Phone",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"text",className:"txt-field",name:"jobRole",value:this.state.formData.jobRole,placeholder:"Job Role",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"password",className:"txt-field",name:"userPassword",value:this.state.formData.userPassword,placeholder:"Password",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"password",className:"txt-field",name:"userConfPassword",value:this.state.formData.userConfPassword,placeholder:"Confirm Password",onChange:this.formHandler,required:!0}),s.a.createElement("input",{type:"submit",className:"btn auth-submit",disabled:this.state.dataSubmited,value:"Create user"})))));default:this.setState({registerStep:"org"})}}}]),t}(s.a.Component),X=(a(25),function(e){return{type:"UPDATE",newData:e}});function Z(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}var $=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).updateFieldValue=function(e,t){var n=a.state.modalFieldData,l=parseInt(e.target.name);switch(console.log(e.target.value),t){case"tel":!0===V(e.target.value)&&(n[l].fieldValue=e.target.value);break;case"email":!1===e.target.value.includes(" ")&&(n[l].fieldValue=e.target.value);break;case"number":""!==e.target.value&&(n[l].fieldValue=parseInt(e.target.value));break;default:n[l].fieldValue=e.target.value}a.setState({modalFieldData:n})},a.state={modalFieldData:null,fields:null,processingRequest:!1,dataSubmited:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){null===t.modalFieldData&&this.props.modalFieldData!==t.modalFieldData&&this.setState({modalFieldData:this.props.modalFieldData}),(null===t.fields&&t.fields!==this.props.fields||0===t.fields.length)&&this.setState({fields:this.props.fields})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(F,{radius:"0",display:this.state.processingRequest}),s.a.createElement("h1",null,"Update row"),s.a.createElement("form",{onSubmit:function(){var t=Object(I.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.setState({dataSubmited:!0,processingRequest:!0}),!1===e.state.dataSubmited&&fetch("https://us-central1-multi-manage.cloudfunctions.net/updateTableRow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:b(p),tableId:Z(window.location.href).tableId,rowData:JSON.stringify(e.state.modalFieldData),tokenId:b("userToken"),rowIndex:parseInt(Z(window.location.href).rowIndex)})}).then((function(e){return"deauth"===e.json().status&&(g(),window.location.reload(!1)),e})).then((function(e){window.location.reload(!1)})).catch((function(e){if("deauth"!==e.status)throw e;g(),D(),window.location.reload(!1)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},null!==this.state.modalFieldData&&null!==this.state.fields?this.state.modalFieldData.map((function(t,a){var n=e.state.fields.filter((function(e){return e.name===t.fieldName}))[0];if(void 0!==n)return"select"===n.type?s.a.createElement("select",{key:n.name,className:"txt-field",onChange:function(t){return e.updateFieldValue(t,n.type)},name:a,defaultValue:t.fieldValue},n.select_data.map((function(e,t){return s.a.createElement("option",{key:e+"-"+t,value:e},e)}))):s.a.createElement("input",{key:n.name,type:n.type,className:"txt-field",name:a,placeholder:t.fieldName,value:e.state.modalFieldData[a].fieldValue,onChange:function(t){return e.updateFieldValue(t,n.type)}})})):"",s.a.createElement("input",{type:"submit",className:"btn",disabled:this.state.dataSubmited,value:"Submit changes"})))}}]),t}(s.a.Component),ee=function(e){return s.a.createElement("div",{className:"field-display"},s.a.createElement("label",{className:"field-label"},e.label),s.a.createElement("label",{className:"field-value"},e.value))};var te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).toggleModal=function(){var e=a.state.showModal;a.setState({showModal:!e})},a.updateFieldValue=function(e){var t=a.state.fieldData,n=parseInt(e.target.name);n>=10?t[1][n-10].fieldValue=e.target.value:t[0][n].fieldValue=e.target.value,a.setState({fieldData:t}),a.updateModalContent()},a.state={showModal:!1,modalContent:null,fieldData:[],fields:[],tableName:"",modalFieldData:null,tableData:null,dataSubmited:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}(window.location.href);fetch("https://us-central1-multi-manage.cloudfunctions.net/getOrgTableRowData?orgId="+b(p)+"&tableId="+t.tableId+"&rowIndex="+t.rowIndex+"&tokenId="+b("userToken")).then((function(e){return e.json()})).then((function(e){return"deauth"===e.status&&(g(),window.location.reload(!1)),e})).then((function(t){console.log(t.data);var a=[];for(var n in t.data)"tableName"!==n&&a.push({fieldName:n,fieldValue:t.data[n]});e.setState({tableName:t.data.tableName,fieldData:[a],modalFieldData:a,fields:t.fieldsData})})).catch((function(e){if("deauth"!==e.status)throw e;g()}))}},{key:"render",value:function(){return s.a.createElement("div",null,null!==this.state.modalFieldData&&void 0!==this.state.modalFieldData?s.a.createElement(k,{dataFields:s.a.createElement($,{modalFieldData:this.state.modalFieldData,fields:this.state.fields}),isShown:this.state.showModal,toggleModal:this.toggleModal}):"",s.a.createElement("div",{id:"content-viewrow",style:{display:"flex"}},s.a.createElement("div",{id:"field-data-containers"},s.a.createElement("div",{id:"header"},s.a.createElement("h1",null,this.state.tableName),s.a.createElement("button",{className:"btn",onClick:this.toggleModal},s.a.createElement(q.c,null))),s.a.createElement("div",{style:{display:"flex"}},this.state.fieldData.map((function(e,t){return s.a.createElement("div",{className:"field-display-container",key:t},Array.from(e).map((function(e){return s.a.createElement("div",{className:"field-display"},s.a.createElement("label",{className:"field-label"},e.fieldName),s.a.createElement("label",{className:"field-value"},e.fieldValue))})))}))))))}}]),t}(s.a.Component),ae=Object(w.b)((function(e){return{userData:e}}),(function(e){return{updateUser:function(t){return e(X(t))}}}))(te);function ne(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}var le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).addSelectValue=function(){console.log("add");var e=a.state,t=e.tableFields,n=e.selectFieldValue;""!==n&&"select"===t[a.props.sectionIndex][a.props.index].type&&(t[a.props.sectionIndex][a.props.index].select_data.push(n),a.setState({tableFields:t,selectFieldValue:""}))},a.removeSelectDataValue=function(e){var t=a.state.tableFields;t[a.props.sectionIndex][a.props.index].select_data.splice(e,1),a.setState({tableFields:t})},a.handleCheckbox=function(){var e=a.state.tableFields;e[a.props.sectionIndex][a.props.index].display_table=!e[a.props.sectionIndex][a.props.index].display_table,a.setState({tableFields:e})},a.submitUpdate=function(){var e=2===a.state.tableFields.length?[].concat(Object(j.a)(a.state.tableFields[0]),Object(j.a)(a.state.tableFields[1])):a.state.tableFields[0];!1===a.state.dataSubmited&&(a.setState({dataSubmited:!0,processingRequest:!0}),fetch("https://us-central1-multi-manage.cloudfunctions.net/updateTableFields",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:b(p),tableId:ne(window.location.href).tableId,tokenId:b("userToken"),fieldsData:JSON.stringify(e)})}).then((function(e){"deauth"===e.json().status&&(g(),window.location.reload(!1),D()),a.props.toggleModal()})).catch((function(e){throw e})))},a.handleRadioButtonsChange=function(e,t,n){var l=a.state.tableFields;l[t][n].type=e.target.value,"select"===l[t][n].type&&(l[t][n].select_data=[]),a.setState({tableFields:l})},a.handleSelectFieldValueInputChange=function(e){return a.setState({selectFieldValue:e.target.value})},a.handleSelectValueKeyDown=function(e){"Enter"===e.key&&""!==a.state.selectFieldValue&&a.addSelectValue(e)},a.state={selectFieldValue:"",dataSubmited:!1,tableFields:null,processingRequest:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){null===t.tableFields&t.tableFields!==this.props.tableFields&&this.setState({tableFields:this.props.tableFields})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(F,{radius:"0",display:this.state.processingRequest}),s.a.createElement("h1",null,"Update field"),s.a.createElement("form",{onSubmit:function(){var e=Object(I.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},null!==this.state.tableFields?s.a.createElement("div",null,s.a.createElement("h3",null,"Field type"),s.a.createElement("div",{id:"field-type-radio-group"},s.a.createElement("input",{type:"radio",onChange:function(t){return e.handleRadioButtonsChange(t,e.props.sectionIndex,e.props.index)},checked:"text"===this.state.tableFields[this.props.sectionIndex][this.props.index].type,value:"text",id:"text",name:"field-type"}),s.a.createElement("label",{htmlFor:"text"},"Text"),s.a.createElement("input",{type:"radio",onChange:function(t){return e.handleRadioButtonsChange(t,e.props.sectionIndex,e.props.index)},checked:"date"===this.state.tableFields[this.props.sectionIndex][this.props.index].type,value:"date",id:"date",name:"field-type"}),s.a.createElement("label",{htmlFor:"date"},"Date"),s.a.createElement("input",{type:"radio",onChange:function(t){return e.handleRadioButtonsChange(t,e.props.sectionIndex,e.props.index)},checked:"time"===this.state.tableFields[this.props.sectionIndex][this.props.index].type,value:"time",id:"time",name:"field-type"}),s.a.createElement("label",{htmlFor:"time"},"Time"),s.a.createElement("input",{type:"radio",onChange:function(t){return e.handleRadioButtonsChange(t,e.props.sectionIndex,e.props.index)},checked:"number"===this.state.tableFields[this.props.sectionIndex][this.props.index].type,value:"number",id:"number",name:"field-type"}),s.a.createElement("label",{htmlFor:"number"},"Number"),s.a.createElement("input",{type:"radio",onChange:function(t){return e.handleRadioButtonsChange(t,e.props.sectionIndex,e.props.index)},checked:"select"===this.state.tableFields[this.props.sectionIndex][this.props.index].type,value:"select",id:"select",name:"field-type"}),s.a.createElement("label",{htmlFor:"select"},"Select"),s.a.createElement("input",{type:"radio",onChange:function(t){return e.handleRadioButtonsChange(t,e.props.sectionIndex,e.props.index)},checked:"checkbox"===this.state.tableFields[this.props.sectionIndex][this.props.index].type,value:"checkbox",id:"checkbox",name:"field-type"}),s.a.createElement("label",{htmlFor:"checkbox"},"Checkbox"),s.a.createElement("input",{type:"radio",onChange:function(t){return e.handleRadioButtonsChange(t,e.props.sectionIndex,e.props.index)},checked:"tel"===this.state.tableFields[this.props.sectionIndex][this.props.index].type,value:"tel",id:"tel",name:"field-type"}),s.a.createElement("label",{htmlFor:"tel"},"Phone")),"select"===this.state.tableFields[this.props.sectionIndex][this.props.index].type?s.a.createElement("div",null,s.a.createElement("h3",null,"Select Field Values"),s.a.createElement("div",{id:"select-values"},s.a.createElement("div",{id:"select-values-container"},this.state.tableFields[this.props.sectionIndex][this.props.index].select_data.map((function(t,a){return s.a.createElement("div",{className:"chip"},t,s.a.createElement("button",{className:"remove-btn",onClick:function(){e.removeSelectDataValue(a)}},s.a.createElement(T.b,null)))}))),s.a.createElement("div",{id:"select-values-inputs"},s.a.createElement("input",{type:"text",className:"txt-field",placeholder:"Select value",value:this.state.selectFieldValue,onChange:this.handleSelectFieldValueInputChange}),s.a.createElement("button",{className:"btn",onClick:this.addSelectValue},"Add value")))):"",s.a.createElement("div",{className:"table-display"},s.a.createElement(P.a,{size:"small",onChange:this.handleCheckbox,color:"#11152f",isChecked:this.state.tableFields[this.props.sectionIndex][this.props.index].display_table}),s.a.createElement("label",null,"Display in dashboard table"))):"",s.a.createElement("input",{type:"submit",className:"btn",disabled:this.state.dataSubmited,onClick:this.submitUpdate,value:"Submit changes"})))}}]),t}(s.a.Component);function se(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}var ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleAdminPasswordChange=function(e){return a.setState({adminPassword:e.target.value})},a.goToAdminPassStep=function(){return a.setState({step:"ask_for_admin_pass"})},a.handleTableDeleteRequest=function(){!1===a.state.dataSubmited&&(a.setState({dataSubmited:!0,processingRequest:!0}),fetch("https://us-central1-multi-manage.cloudfunctions.net/deleteTable",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:b(p),tableId:se(window.location.href).tableId,tokenId:b("userToken"),adminPass:a.state.adminPassword})}).then((function(e){switch(e.status){case 401:a.setState({displayError:!0,dataSubmited:!1,processingRequest:!1});break;case 200:console.log(e),"deauth"===e.json().status?(g(),window.location.reload(!1)):window.location="/?table=manage_tables";break;default:window.location="/"}})).catch((function(e){throw e})))},a.state={step:"conf_delete",adminPassword:"",displayError:!1,processingRequest:!1,dataSubmited:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"deleteModalAlert"},s.a.createElement(F,{radius:"0",display:this.state.processingRequest}),s.a.createElement("h1",null,"Warning"),"conf_delete"===this.state.step?s.a.createElement("div",null,s.a.createElement("h3",null,"Are you sure you wanna delete this table? (",this.props.tableName,")"),s.a.createElement("label",null,s.a.createElement("b",null,"ALL THE DATA")," in this table will be ",s.a.createElement("b",null,"DELETED"),"!"),s.a.createElement("div",null,s.a.createElement("button",{className:"secondary-btn",onClick:this.toggleModal},"Cancel"),s.a.createElement("button",{className:"btn",onClick:this.goToAdminPassStep},"Delete"))):"ask_for_admin_pass"===this.state.step?s.a.createElement("div",null,s.a.createElement("h3",null,"Insert your password to confirm this action"),s.a.createElement("label",null,"You're about to delete the table ",s.a.createElement("b",null,this.props.tableName)),s.a.createElement("br",null),s.a.createElement("input",{type:"password",placeholder:"Admin password",className:"txt-field",value:this.state.adminPassword,onChange:this.handleAdminPasswordChange}),!0===this.state.displayError?s.a.createElement("label",{className:"error-message"},"Wrong password!"):"",s.a.createElement("div",null,s.a.createElement("button",{className:"btn",onClick:this.handleTableDeleteRequest,disabled:""===this.state.adminPassword},"Confirm Deletion"))):"")}}]),t}(s.a.Component);function re(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}var oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).requestRowData=function(){var e=re(window.location.href);fetch("https://us-central1-multi-manage.cloudfunctions.net/getOrgTableData?orgId="+b(p)+"&tableId="+e.tableId+"&tokenId="+b("userToken")).then((function(e){return e.json()})).then((function(e){return"deauth"===e.status&&(g(),window.location.reload(!1)),e})).then((function(e){var t=e.tableData.fields;console.log(t,e),a.setState({tableFields:[t],tableName:e.tableData.name})}))},a.toggleModal=function(e){var t={showModal:!a.state.showModal};!1===t.showModal?a.requestRowData():t.modalTypeToShow=e,a.setState(t)},a.handleEditField=function(e,t){a.setState({sectionIndex:e,index:t})},a.handleFieldDeleteRequest=function(e){!1===a.state.dataSubmited&&(a.setState({dataSubmited:!0,processingRequest:!0}),fetch("https://us-central1-multi-manage.cloudfunctions.net/deleteTableField",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:b(p),tableId:re(window.location.href).tableId,tokenId:b("userToken"),fieldIndex:a.state.fieldToDeleteIndex})}).then((function(e){return"deauth"===e.json().status&&(g(),window.location.reload(!1)),e})).then((function(e){a.toggleModal()})).catch((function(e){throw e})))},a.state={showModal:!1,dataSubmited:!1,sectionIndex:0,index:0,selectFieldValue:"",modalFieldData:{},tableFields:null,tableName:"",modalTypeToShow:"update",fieldToDeleteIndex:null,processingRequest:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.requestRowData()}},{key:"render",value:function(){var e=this;return void 0!==this.state.tableFields?s.a.createElement("div",null,s.a.createElement(k,{dataFields:"update"===this.state.modalTypeToShow?s.a.createElement(le,{tableFields:this.state.tableFields,toggleModal:this.toggleModal,sectionIndex:this.state.sectionIndex,index:this.state.index}):"add"===this.state.modalTypeToShow?s.a.createElement(M,null):"conf_delete_field"===this.state.modalTypeToShow?s.a.createElement("div",{id:"deleteModalAlert"},s.a.createElement(F,{radius:"0",display:this.state.processingRequest}),s.a.createElement("h1",null,"Warning"),s.a.createElement("h3",null,"Are you sure you wanna delete this field?"),s.a.createElement("label",null,s.a.createElement("b",null,"ALL THE DATA")," associated with this field will be ",s.a.createElement("b",null,"DELETED"),"!"),s.a.createElement("div",null,s.a.createElement("button",{className:"secondary-btn",onClick:this.toggleModal},"Cancel"),s.a.createElement("button",{className:"btn",onClick:this.handleFieldDeleteRequest},"Delete"))):"conf_delete_table"===this.state.modalTypeToShow?s.a.createElement(ie,{tableName:this.state.tableName,toggleModal:this.toggleModal}):"",isShown:this.state.showModal,toggleModal:this.toggleModal}),s.a.createElement("div",{id:"content-viewrow",style:{display:"flex"}},s.a.createElement("div",{id:"field-data-containers"},s.a.createElement("div",{id:"header"},s.a.createElement("h1",null,this.state.tableName),s.a.createElement("button",{className:"btn",onClick:function(){e.toggleModal("add")},style:{fontSize:"20px"}},s.a.createElement(T.a,null)),s.a.createElement("button",{className:"remove-btn",onClick:function(){e.toggleModal("conf_delete_table")}},s.a.createElement(q.b,null))),s.a.createElement("div",{style:{display:"flex"}},null!==this.state.tableFields?this.state.tableFields.map((function(t,a){return s.a.createElement("ul",{key:a,className:"table-data-ul"},Array.from(t).map((function(t,n){return s.a.createElement("li",{key:t.name,className:"table-data-field-display-container"},s.a.createElement("div",{className:"content-header"},s.a.createElement("h2",null,t.name),s.a.createElement(ee,{label:"Type",value:"tel"===t.type?"phone":t.type}),s.a.createElement(ee,{label:"Display in table",value:t.display_table?"Yes":"No"}),s.a.createElement("div",{className:"field-actions"},s.a.createElement("button",{className:"secondary-btn",onClick:function(){e.setState({sectionIndex:a,index:n}),e.toggleModal("update")}},s.a.createElement(q.c,null)),s.a.createElement("button",{className:"remove-btn",onClick:function(){e.setState({fieldToDeleteIndex:n}),e.toggleModal("conf_delete_field")}},s.a.createElement(q.b,null)))),"select"===t.type?s.a.createElement("div",{className:"content"},s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("b",null,"Select field values")),s.a.createElement("ul",null,t.select_data.map((function(e){return s.a.createElement("li",null,e)}))))):"")})))})):"")))):""}}]),t}(s.a.Component),ce=Object(w.b)((function(e){return{userData:e}}),(function(e){return{updateUser:function(t){return e(X(t))}}}))(oe),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).submitUpdate=function(e){e.preventDefault(),!1===a.state.dataSubmited&&(a.setState({dataSubmited:!0,processingRequest:!0}),fetch("https://us-central1-multi-manage.cloudfunctions.net/updateOrgUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:b(p),tokenId:b("userToken"),userData:JSON.stringify(a.state.userData)})}).then((function(e){switch(e.status){case 200:return e.json();case 401:window.location="/";break;default:window.reload(!1)}})).then((function(e){"deauth"===e.status?(g(),D(),window.location.reload(!1)):"success"===e&&a.props.toggleModal()})).catch((function(e){window.location.reload(!1)})))},a.handleFieldUpdate=function(e){var t=a.state.userData;switch(e.target.name){case"email":case"username":!1===e.target.value.includes(" ")&&(t[e.target.name]=e.target.value);break;case"phone":!0===V(e.target.value)&&(t[e.target.name]=e.target.value);break;case"admin":t.admin="true"===t.admin||(t.admin,!1);break;default:t[e.target.name]=e.target.value}a.setState({userData:t})},a.state={userData:null,dataSubmited:!1,processingRequest:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){null==t.userData&&t.userData!==this.props.userData&&this.setState({userData:this.props.userData})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(F,{radius:"0",display:this.state.processingRequest}),s.a.createElement("h1",null,"Update user data"),s.a.createElement("form",{onSubmit:this.submitUpdate},null!==this.state.userData&&void 0!==this.state.userData?s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"txt-field",onChange:this.handleFieldUpdate,name:"name",placeholder:"Name",value:this.state.userData.name}),s.a.createElement("input",{type:"text",className:"txt-field",onChange:this.handleFieldUpdate,name:"username",placeholder:"Username",value:this.state.userData.username}),s.a.createElement("input",{type:"text",className:"txt-field",onChange:this.handleFieldUpdate,name:"jobRole",placeholder:"Job Role",value:this.state.userData.jobRole}),s.a.createElement("input",{type:"tel",className:"txt-field",onChange:this.handleFieldUpdate,name:"phone",placeholder:"Phone",value:this.state.userData.phone}),s.a.createElement("select",{className:"txt-field",onChange:this.handleFieldUpdate,name:"admin",defaultValue:this.state.userData.admin},s.a.createElement("option",{value:!0},"Yes"),s.a.createElement("option",{value:!1},"No"))):"",s.a.createElement("input",{type:"submit",className:"btn",value:"Apply changes"})))}}]),t}(s.a.Component);var ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).requestRowData=function(){var e=function(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}(window.location.href);fetch("https://us-central1-multi-manage.cloudfunctions.net/getOrgUserData?orgId="+b(p)+"&tokenId="+b("userToken")+"&userId="+e.userId).then((function(e){switch(e.status){case 200:return e.json();case 401:window.location="/";break;default:window.location="/"}})).then((function(e){return"deauth"===e.status?(g(),window.location.reload(!1)):a.setState({userData:e.userData}),e})).catch((function(e){throw e}))},a.toggleModal=function(){var e={showModal:!a.state.showModal};a.setState(e)},a.state={userData:null,showModal:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.requestRowData()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(k,{dataFields:s.a.createElement(de,{userData:this.state.userData,toggleModal:this.toggleModal}),isShown:this.state.showModal,toggleModal:this.toggleModal}),s.a.createElement("div",{id:"content-viewrow",style:{display:"flex"}},s.a.createElement("div",{id:"field-data-containers"},s.a.createElement("div",{id:"header"},s.a.createElement("h1",null,"User"),s.a.createElement("button",{className:"btn",onClick:this.toggleModal},s.a.createElement(q.c,null))),s.a.createElement("div",{className:"content"},null!==this.state.userData&&void 0!==this.state.userData?s.a.createElement("div",{className:"field-display-container"},s.a.createElement(ee,{label:"Username",value:this.state.userData.username}),s.a.createElement(ee,{label:"Phone",value:this.state.userData.phone}),s.a.createElement(ee,{label:"Email",value:this.state.userData.email}),s.a.createElement(ee,{label:"Job role",value:this.state.userData.jobRole}),s.a.createElement(ee,{label:"Admin",value:!0===this.state.userData.admin?"Yes":"No"})):""))))}}]),t}(s.a.Component),me=Object(w.b)((function(e){return{userData:e}}),(function(e){return{updateUser:function(t){return e(X(t))}}}))(ue);function he(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),l=0;l<n.length;l++){var s=n[l].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}var pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showModal:!1,modalContent:null,fieldData:[],fields:[],tableName:"",modalFieldData:null,tableData:null,dataSubmited:!1,params:he(window.location.href)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(N,null),s.a.createElement("div",{id:"dashboard-content"},"manage_tables"===this.state.params.type?s.a.createElement(ce,null):"manage_users"===this.state.params.type?s.a.createElement(me,null):s.a.createElement(ae,null)))}}]),t}(s.a.Component),fe=Object(w.b)((function(e){return{userData:e}}),(function(e){return{updateUser:function(t){return e(X(t))}}}))(pe),be=a(19),ge=a(40),ve=a(22),Ee=Object(ve.b)({tablesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TABLES":return t.newData;default:return e}},userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE":return t.newData;default:return e}}}),we=(a(59),function(e){function t(e){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"landing-page"},s.a.createElement("div",{className:"auth-btns"},s.a.createElement("button",{className:"register",onClick:function(){return window.location="/register"}},"Sign up"),s.a.createElement("button",{className:"login",onClick:function(){return window.location="/login"}},"Sign in")),s.a.createElement("div",{className:"landing-header"},s.a.createElement("h1",null,"Multi",s.a.createElement("br",null),"Manage"),s.a.createElement("h4",null,"Customizable Management",s.a.createElement("br",null),"Web Platform")))}}]),t}(s.a.Component)),ye=Object(ve.c)(Ee,function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}());ye.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}(ye.getState())}));var Ce=function(e){var t=e.component,a=Object(n.a)(e,["component"]);return s.a.createElement(be.b,Object.assign({},a,{render:function(e){return v("userToken")&&v(p)?s.a.createElement(t,e):s.a.createElement(be.a,{to:"/login"})}}))};r.a.render(s.a.createElement(ge.a,null,s.a.createElement("div",null,s.a.createElement(Ce,{exact:!0,path:"/",component:function(){return s.a.createElement(w.a,{store:ye}," ",s.a.createElement(W,null)," ")}}),s.a.createElement(be.b,{path:"/home",component:we}),s.a.createElement(be.b,{path:"/login",component:G}),s.a.createElement(be.b,{path:"/register",component:Q}),s.a.createElement(Ce,{path:"/viewrow",component:function(){return s.a.createElement(w.a,{store:ye}," ",s.a.createElement(fe,null)," ")}}))),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.c3dcb7fd.chunk.js.map